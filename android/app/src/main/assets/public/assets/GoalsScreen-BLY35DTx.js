import{b as p,u as N,r as l,j as e,a as d,P as S,T as b,c as I,f as y,X as v,d as P,A as w,e as T,G as H}from"./index-Bngez1jy.js";import{S as L}from"./smartphone-DopFSjjT.js";import{W as O}from"./wallet-M4D0BMYY.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=p("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=p("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=p("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=p("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=p("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]),R=()=>{const{t:s,goals:i,addGoal:n,updateGoal:h,deleteGoal:c,depositToGoal:x,showToast:f}=N(),[j,r]=l.useState(!1),[o,m]=l.useState(null),[a,u]=l.useState(""),G=l.useCallback(()=>{if(!o||!a)return;const t=parseInt(a);t>0&&(x(o,t),m(null),u(""))},[o,a,x]);return e.jsxs("div",{className:"screen-container pb-32",children:[e.jsx("div",{className:"safe-top px-4 pt-4 pb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-title-1 text-foreground",children:s.goals}),e.jsx(d.button,{whileTap:{scale:.95},onClick:()=>r(!0),className:"w-10 h-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center",children:e.jsx(S,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"px-4 space-y-4",children:i.length===0?e.jsxs("div",{className:"card-elevated p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-2xl bg-primary/10 flex items-center justify-center",children:e.jsx(b,{className:"w-8 h-8 text-primary"})}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s.noGoals}),e.jsxs("button",{onClick:()=>r(!0),className:"btn-primary",children:[s.add," ",s.goals.toLowerCase()]})]}):i.map(t=>{const g=t.target?I(t.current/t.target*100,0,100):0,A=Math.max(0,t.target-t.current);return e.jsxs(d.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-4",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center",children:e.jsx(C,{iconId:t.emoji,className:"w-7 h-7 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:t.name}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg font-bold text-primary",children:y(t.current)}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",y(t.target)]})]})]}),e.jsx("button",{onClick:()=>c(t.id),className:"w-8 h-8 rounded-full bg-secondary text-muted-foreground flex items-center justify-center",children:e.jsx(v,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:e.jsx(d.div,{initial:{width:0},animate:{width:`${g}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-primary to-income rounded-full"})}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[g.toFixed(0),"%"]}),e.jsxs("span",{children:[s.remaining,": ",y(A)]})]})]}),e.jsxs("button",{onClick:()=>{m(t.id),u("")},className:"w-full py-3 rounded-xl bg-primary/10 text-primary font-semibold flex items-center justify-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),s.deposit]})]},t.id)})}),e.jsx(M,{isOpen:j,onClose:()=>r(!1)}),e.jsx(w,{children:o&&e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:()=>m(null),children:e.jsxs(d.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"absolute bottom-0 left-0 right-0 modal-content safe-bottom",onClick:t=>t.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-border rounded-full mx-auto mb-6"}),e.jsx("h2",{className:"text-title-1 text-foreground mb-6",children:s.deposit}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-caption text-muted-foreground font-medium mb-2 block",children:s.amount}),e.jsx("input",{value:a,onChange:t=>u(t.target.value.replace(/[^\d]/g,"")),type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"input-clean text-2xl font-bold",placeholder:"0",autoFocus:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>m(null),className:"btn-secondary flex-1",children:s.cancel}),e.jsx("button",{onClick:G,className:"btn-primary flex-1",children:s.save})]})]})})})]})},k=[{id:"target",icon:b},{id:"home",icon:z},{id:"car",icon:T},{id:"plane",icon:E},{id:"heart",icon:$},{id:"phone",icon:L},{id:"education",icon:H},{id:"wallet",icon:O},{id:"vacation",icon:F},{id:"gift",icon:D}],C=l.memo(({iconId:s,className:i})=>{const n=k.find(c=>c.id===s),h=(n==null?void 0:n.icon)||b;return e.jsx(h,{className:i})});C.displayName="GoalIcon";const M=l.memo(({isOpen:s,onClose:i})=>{const{t:n,addGoal:h}=N(),[c,x]=l.useState(""),[f,j]=l.useState(""),[r,o]=l.useState("target"),m=()=>{!c||!f||(h({name:c,target:parseInt(f),current:0,emoji:r}),x(""),j(""),o("target"),i())};return s?e.jsx(w,{children:e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:i,children:e.jsxs(d.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"absolute bottom-0 left-0 right-0 modal-content safe-bottom",onClick:a=>a.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-border rounded-full mx-auto mb-6"}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-title-1 text-foreground",children:[n.add," ",n.goals.toLowerCase()]}),e.jsx("button",{onClick:i,className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center text-muted-foreground",children:e.jsx(v,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-caption text-muted-foreground font-medium mb-2 block",children:"Icon"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:k.map(a=>{const u=a.icon;return e.jsx("button",{onClick:()=>o(a.id),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all ${r===a.id?"bg-primary/20 ring-2 ring-primary":"bg-secondary"}`,children:e.jsx(u,{className:`w-6 h-6 ${r===a.id?"text-primary":"text-foreground"}`})},a.id)})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-caption text-muted-foreground font-medium mb-2 block",children:n.description}),e.jsx("input",{value:c,onChange:a=>x(a.target.value),type:"text",className:"input-clean",placeholder:"e.g. New iPhone, Vacation..."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-caption text-muted-foreground font-medium mb-2 block",children:n.amount}),e.jsx("input",{value:f,onChange:a=>j(a.target.value.replace(/[^\d]/g,"")),type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"input-clean text-2xl font-bold",placeholder:"0"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:i,className:"btn-secondary flex-1",children:n.cancel}),e.jsx("button",{onClick:m,className:"btn-primary flex-1",children:n.save})]})]})})}):null});M.displayName="AddGoalModal";export{R as GoalsScreen,R as default};
