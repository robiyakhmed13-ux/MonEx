import{u as y,r as c,t as k,s as v,m as w,j as e,a as u,F as C,C as S,f as I}from"./index-Bngez1jy.js";import{A as T}from"./arrow-left-BXUsCCoW.js";const F=({onEditTransaction:f})=>{const{t:s,transactions:i,getCat:p,catLabel:h,deleteTransaction:b,setActiveScreen:j}=y(),[l,g]=c.useState("all"),[r,n]=c.useState(null),d=k(),m=v(),x=w(),o=c.useMemo(()=>{const t=[...i];return l==="all"?t:l==="expense"?t.filter(a=>a.type==="expense"):l==="income"?t.filter(a=>a.type==="income"):l==="today"?t.filter(a=>a.date===d):l==="week"?t.filter(a=>a.date>=m):l==="month"?t.filter(a=>a.date.startsWith(x)):t},[l,i,d,m,x]),N=async()=>{r&&(await b(r),n(null))};return e.jsxs("div",{className:"screen-container pb-32 safe-top",children:[e.jsxs("div",{className:"px-4 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(u.button,{whileTap:{scale:.9},onClick:()=>j("home"),className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center",children:e.jsx(T,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-title-1 text-foreground",children:s.allTransactions}),e.jsxs("p",{className:"text-caption text-muted-foreground",children:[o.length," ",s.transactions.toLowerCase()]})]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar mb-6 pb-2",children:[{k:"all",label:s.all},{k:"expense",label:s.expense},{k:"income",label:s.incomeType},{k:"today",label:s.today},{k:"week",label:s.week},{k:"month",label:s.month}].map(t=>e.jsx("button",{onClick:()=>g(t.k),className:`px-4 py-2 rounded-full whitespace-nowrap font-medium text-body-sm transition-all ${l===t.k?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground"}`,children:t.label},t.k))}),o.length===0?e.jsxs("div",{className:"card-elevated p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-2xl bg-muted flex items-center justify-center",children:e.jsx(C,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("p",{className:"text-muted-foreground",children:s.empty})]}):e.jsx("div",{className:"space-y-2",children:o.map(t=>{const a=p(t.categoryId);return e.jsxs(u.div,{className:"list-item",children:[e.jsx("div",{className:"category-icon",style:{backgroundColor:`${a.color}20`},children:e.jsx(S,{categoryId:a.id,className:"w-5 h-5",style:{color:a.color}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-foreground truncate",children:t.description}),e.jsxs("p",{className:"text-caption text-muted-foreground",children:[t.date," â€¢ ",h(a)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${t.amount>0?"amount-income":"amount-expense"}`,children:[t.amount>0?"+":"",I(t.amount)]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:()=>f(t.id),className:"text-2xs px-2 py-1 rounded-lg bg-accent text-primary font-medium",children:s.edit}),e.jsx("button",{onClick:()=>n(t.id),className:"text-2xs px-2 py-1 rounded-lg bg-red-50 text-expense font-medium",children:s.delete})]})]})]},t.id)})})]}),r&&e.jsx("div",{className:"modal-overlay",onClick:()=>n(null),children:e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 modal-content safe-bottom",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-title-2 text-foreground mb-4",children:s.confirmDelete}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>n(null),className:"btn-secondary flex-1",children:s.cancel}),e.jsx("button",{onClick:N,className:"flex-1 py-4 rounded-xl bg-destructive text-destructive-foreground font-semibold",children:s.delete})]})]})})]})};export{F as TransactionsScreen};
