import{b as L,r as c,u as J,j as e,a as r,M as w,S as z,i as K,Z as W,G as X,k as S,l as ee,n as ae,o as se}from"./index-Bngez1jy.js";import{A as te}from"./arrow-left-BXUsCCoW.js";import{S as le}from"./star-CenMgJJO.js";import{S as re}from"./share-2-DVT8M0Cz.js";import{C as ne}from"./cloud-3kphkjxs.js";import{C as oe}from"./circle-help-BBbs28i3.js";import{T as ie}from"./trash-2-DgMVlkGx.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=L("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),me=c.memo(()=>{const{t:n,lang:a,setLang:i,dataMode:m,setDataMode:u,useRemote:t,syncFromRemote:x,setActiveScreen:b,setBalance:T,setTransactions:M,setLimits:R,setGoals:A,theme:f,setTheme:O,setOnboardingComplete:q,transactions:E,allCats:V,catLabel:I,currency:y,setCurrency:D,reminderDays:ue,setReminderDays:xe,tgUser:l}=J(),[$,h]=c.useState(!1),[B,p]=c.useState(!1),[H,g]=c.useState(!1),[P,j]=c.useState(!1),[Y,k]=c.useState(!1),Z=()=>{T(0),M([]),R([]),A([]),h(!1)},_=()=>{localStorage.removeItem("hamyon_onboarding"),localStorage.removeItem("hamyon_quickAdds"),q(!1),p(!1),window.location.reload()},F=()=>{ae({transactions:E,categories:V,lang:a,currency:y,getCatLabel:I})},v=[{key:"uz",label:"O'zbekcha"},{key:"ru",label:"Русский"},{key:"en",label:"English"}],C=[{key:"light",icon:z,label:a==="ru"?"Светлая":a==="uz"?"Yorug'":"Light"},{key:"dark",icon:w,label:a==="ru"?"Тёмная":a==="uz"?"Tungi":"Dark"},{key:"system",icon:se,label:a==="ru"?"Авто":a==="uz"?"Avto":"Auto"}],G=()=>{var s;return((s=v.find(d=>d.key===a))==null?void 0:s.label)||"English"},Q=()=>{var s;return((s=C.find(d=>d.key===f))==null?void 0:s.label)||"Auto"},U=()=>{var s;return((s=S.find(d=>d.code===y))==null?void 0:s.symbol)||"UZS"};return e.jsxs("div",{className:"screen-container",children:[e.jsx("div",{className:"px-4 pt-4 pb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r.button,{whileTap:{scale:.9},onClick:()=>b("home"),className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center",children:e.jsx(te,{className:"w-5 h-5 text-foreground"})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:n.settings})]})}),e.jsx("div",{className:"px-4 mb-6",children:e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-3xl bg-gradient-to-br from-primary/20 via-primary/10 to-accent border border-primary/20",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-primary-foreground text-2xl font-bold",children:((l==null?void 0:l.first_name)||"U").charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:(l==null?void 0:l.first_name)||"User"}),(l==null?void 0:l.username)&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",l.username]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-4 rounded-2xl bg-card/60 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(le,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Standard"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a==="ru"?"Ваш план":a==="uz"?"Sizning rejangiz":"Your plan"})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-card/60 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(re,{className:"w-4 h-4 text-income"}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:a==="ru"?"Рефералы":a==="uz"?"Tavsiyalar":"Referrals"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a==="ru"?"Пригласи друзей":a==="uz"?"Do'stlarni taklif qil":"Invite friends"})]})]})]})}),e.jsxs("div",{className:"px-4 space-y-4",children:[e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-2xl bg-card border border-border overflow-hidden",children:[e.jsx(o,{icon:e.jsx(de,{className:"w-5 h-5"}),label:a==="ru"?"Язык":a==="uz"?"Til":"Language",value:G(),onClick:()=>g(!0)}),e.jsx(o,{icon:f==="dark"?e.jsx(w,{className:"w-5 h-5"}):e.jsx(z,{className:"w-5 h-5"}),label:a==="ru"?"Тема":a==="uz"?"Mavzu":"Theme",value:Q(),onClick:()=>j(!0)}),e.jsx(o,{icon:e.jsx(K,{className:"w-5 h-5"}),label:a==="ru"?"Валюта":a==="uz"?"Valyuta":"Currency",value:U(),onClick:()=>k(!0),isLast:!0})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"rounded-2xl bg-card border border-border overflow-hidden",children:[e.jsx(o,{icon:e.jsx(ne,{className:"w-5 h-5"}),label:a==="ru"?"Синхронизация":a==="uz"?"Sinxronlash":"Sync Data",value:t?"Cloud":"Local",onClick:x}),e.jsx(o,{icon:e.jsx(ce,{className:"w-5 h-5"}),label:a==="ru"?"Экспорт CSV":a==="uz"?"CSV eksport":"Export CSV",onClick:F}),e.jsx(o,{icon:e.jsx(W,{className:"w-5 h-5"}),label:a==="ru"?"Быстрые настройки":a==="uz"?"Tez sozlamalar":"Quick Setup",onClick:()=>p(!0),isLast:!0})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"rounded-2xl bg-card border border-border overflow-hidden",children:[e.jsx(o,{icon:e.jsx(oe,{className:"w-5 h-5"}),label:a==="ru"?"Помощь":a==="uz"?"Yordam":"Help",onClick:()=>b("help")}),e.jsx(o,{icon:e.jsx(X,{className:"w-5 h-5"}),label:a==="ru"?"Обучение":a==="uz"?"O'rganish":"Learn",onClick:()=>b("learn"),isLast:!0})]}),e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"rounded-2xl bg-card border border-destructive/30 overflow-hidden",children:e.jsx(o,{icon:e.jsx(ie,{className:"w-5 h-5 text-destructive"}),label:n.resetLocal,textColor:"text-destructive",onClick:()=>h(!0),isLast:!0})})]}),H&&e.jsx(N,{title:a==="ru"?"Язык":a==="uz"?"Til":"Language",onClose:()=>g(!1),options:v.map(s=>({key:s.key,label:s.label})),selected:a,onSelect:s=>{i(s),g(!1)}}),P&&e.jsx(N,{title:a==="ru"?"Тема":a==="uz"?"Mavzu":"Theme",onClose:()=>j(!1),options:C.map(s=>({key:s.key,label:s.label,icon:s.icon})),selected:f,onSelect:s=>{O(s),j(!1)}}),Y&&e.jsx(N,{title:a==="ru"?"Валюта":a==="uz"?"Valyuta":"Currency",onClose:()=>k(!1),options:S.map(s=>({key:s.code,label:`${s.symbol} ${s.code}`})),selected:y,onSelect:s=>{D(s),k(!1)}}),$&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>h(!1),children:e.jsxs(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-background rounded-3xl p-6 w-full max-w-sm shadow-2xl",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-2 text-center",children:a==="ru"?"Сбросить все данные?":a==="uz"?"Barcha ma'lumotlarni o'chirish?":"Reset all data?"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6 text-center",children:a==="ru"?"Все транзакции, бюджеты и цели будут удалены.":a==="uz"?"Barcha tranzaksiyalar, byudjetlar va maqsadlar o'chiriladi.":"This will delete all your transactions, budgets, and goals."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>h(!1),className:"btn-secondary flex-1",children:n.cancel}),e.jsx("button",{onClick:Z,className:"flex-1 py-4 rounded-xl bg-destructive text-destructive-foreground font-semibold",children:n.delete})]})]})}),B&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>p(!1),children:e.jsxs(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-background rounded-3xl p-6 w-full max-w-sm shadow-2xl",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-2 text-center",children:a==="ru"?"Перезапустить настройку?":a==="uz"?"Qayta sozlashni boshlash?":"Restart setup wizard?"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6 text-center",children:a==="ru"?"Вы сможете заново настроить быстрые расходы и предпочтения.":a==="uz"?"Tez qo'shish va afzalliklarni qayta sozlashingiz mumkin.":"You'll be able to reconfigure quick adds and preferences."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>p(!1),className:"btn-secondary flex-1",children:n.cancel}),e.jsx(r.button,{whileTap:{scale:.97},onClick:_,className:"flex-1 py-4 rounded-xl bg-primary text-primary-foreground font-semibold",children:a==="ru"?"Начать":a==="uz"?"Boshlash":"Start"})]})]})})]})});me.displayName="SettingsScreen";const o=({icon:n,label:a,value:i,onClick:m,isLast:u=!1,textColor:t="text-foreground"})=>e.jsxs("button",{onClick:m,className:`w-full flex items-center gap-4 p-4 hover:bg-secondary/50 transition-colors ${u?"":"border-b border-border"}`,children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-secondary flex items-center justify-center text-muted-foreground",children:n}),e.jsx("span",{className:`flex-1 text-left font-medium ${t}`,children:a}),i&&e.jsx("span",{className:"text-sm text-muted-foreground",children:i}),e.jsx(ee,{className:"w-5 h-5 text-muted-foreground"})]}),N=({title:n,onClose:a,options:i,selected:m,onSelect:u})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:a,children:e.jsxs(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-background rounded-3xl p-6 w-full max-w-sm max-h-[70vh] flex flex-col shadow-2xl",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4 flex-shrink-0 text-center",children:n}),e.jsx("div",{className:"space-y-2 overflow-y-auto flex-1 pb-2 -mx-2 px-2 touch-pan-y",children:i.map(t=>{const x=t.icon;return e.jsxs("button",{onClick:()=>u(t.key),className:`w-full p-4 rounded-xl flex items-center gap-3 transition-all ${m===t.key?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-secondary/80"}`,children:[x&&e.jsx(x,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:t.label})]},t.key)})})]})});export{me as SettingsScreen};
