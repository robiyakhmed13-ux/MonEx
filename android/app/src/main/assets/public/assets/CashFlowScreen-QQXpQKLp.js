import{R as A,q as lt,r as E,u as Jt,g as vt,j as o,a as L,p as W,I as xt,J as bt,N as Gt,x as Ut}from"./index-Bngez1jy.js";import{I as Dt,y as U,V as et,x as F,e as Et,D as Zt,J as ht,W as Nt,L as q,j as J,v as kt,z as $t,F as R,G as Ct,Z as Xt,H as Tt,O as zt,S as gt,$ as Yt,l as Ht,s as Qt,a0 as te,P as ee,k as It,B as ct,X as ut,Y as pt,Q as re,R as At,A as ne,a1 as ie,T as jt}from"./AreaChart-CKL7HzMx.js";var ae=["type","layout","connectNulls","ref"],oe=["key"];function Z(t){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(t)}function wt(t,e){if(t==null)return{};var n=se(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function se(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H.apply(this,arguments)}function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ot(Object(n),!0).forEach(function(r){z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G(t){return pe(t)||ue(t)||ce(t)||le()}function le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(t,e){if(t){if(typeof t=="string")return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(t,e)}}function ue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pe(t){if(Array.isArray(t))return ft(t)}function ft(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kt(r.key),r)}}function de(t,e,n){return e&&Pt(t.prototype,e),n&&Pt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function me(t,e,n){return e=rt(e),ye(t,Bt()?Reflect.construct(e,n||[],rt(t).constructor):e.apply(t,n))}function ye(t,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return he(t)}function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bt=function(){return!!t})()}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rt(t)}function ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dt(t,e)}function z(t,e,n){return e=Kt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kt(t){var e=xe(t,"string");return Z(e)=="symbol"?e:e+""}function xe(t,e){if(Z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var at=function(t){function e(){var n;fe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=me(this,e,[].concat(i)),z(n,"state",{isAnimationFinished:!0,totalLength:0}),z(n,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),z(n,"getStrokeDasharray",function(l,u,d){var p=d.reduce(function(w,O){return w+O});if(!p)return n.generateSimpleStrokeDasharray(u,l);for(var c=Math.floor(l/p),y=l%p,f=u-l,h=[],m=0,x=0;m<d.length;x+=d[m],++m)if(x+d[m]>y){h=[].concat(G(d.slice(0,m)),[y-x]);break}var b=h.length%2===0?[0,f]:[f];return[].concat(G(e.repeat(d,c)),G(h),b).map(function(w){return"".concat(w,"px")}).join(", ")}),z(n,"id",zt("recharts-line-")),z(n,"pathRef",function(l){n.mainCurve=l}),z(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),z(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return ve(e,t),de(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.points,u=a.xAxis,d=a.yAxis,p=a.layout,c=a.children,y=ht(c,Nt);if(!y)return null;var f=function(x,b){return{x:x.x,y:x.y,value:x.value,errorVal:U(x.payload,b)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return A.createElement(q,h,y.map(function(m){return A.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:l,xAxis:u,yAxis:d,layout:p,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,a){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,p=u.points,c=u.dataKey,y=J(this.props,!1),f=J(d,!0),h=p.map(function(x,b){var w=k(k(k({key:"dot-".concat(b),r:3},y),f),{},{index:b,cx:x.x,cy:x.y,value:x.value,dataKey:c,payload:x.payload,points:p});return e.renderDotItem(d,w)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return A.createElement(q,H({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(r,i,a,l){var u=this.props,d=u.type,p=u.layout,c=u.connectNulls;u.ref;var y=wt(u,ae),f=k(k(k({},J(y,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},l),{},{type:d,layout:p,connectNulls:c});return A.createElement(kt,H({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,l=this.props,u=l.points,d=l.strokeDasharray,p=l.isAnimationActive,c=l.animationBegin,y=l.animationDuration,f=l.animationEasing,h=l.animationId,m=l.animateNewValues,x=l.width,b=l.height,w=this.state,O=w.prevPoints,g=w.totalLength;return A.createElement($t,{begin:c,duration:y,isActive:p,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(s){var v=s.t;if(O){var D=O.length/u.length,S=u.map(function(P,M){var B=Math.floor(M*D);if(O[B]){var j=O[B],$=R(j.x,P.x),K=R(j.y,P.y);return k(k({},P),{},{x:$(v),y:K(v)})}if(m){var qt=R(x*2,P.x),Vt=R(b/2,P.y);return k(k({},P),{},{x:qt(v),y:Vt(v)})}return k(k({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(S,r,i)}var _=R(0,g),N=_(v),T;if(d){var I="".concat(d).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});T=a.getStrokeDasharray(N,g,I)}else T=a.generateSimpleStrokeDasharray(g,N);return a.renderCurveStatically(u,r,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,i){var a=this.props,l=a.points,u=a.isAnimationActive,d=this.state,p=d.prevPoints,c=d.totalLength;return u&&l&&l.length&&(!p&&c>0||!Ct(p,l))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,l=i.dot,u=i.points,d=i.className,p=i.xAxis,c=i.yAxis,y=i.top,f=i.left,h=i.width,m=i.height,x=i.isAnimationActive,b=i.id;if(a||!u||!u.length)return null;var w=this.state.isAnimationFinished,O=u.length===1,g=lt("recharts-line",d),s=p&&p.allowDataOverflow,v=c&&c.allowDataOverflow,D=s||v,S=F(b)?this.id:b,_=(r=J(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=_.r,T=N===void 0?3:N,I=_.strokeWidth,P=I===void 0?2:I,M=Xt(l)?l:{},B=M.clipDot,j=B===void 0?!0:B,$=T*2+P;return A.createElement(q,{className:g},s||v?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(S)},A.createElement("rect",{x:s?f:f-h/2,y:v?y:y-m/2,width:s?h:h*2,height:v?m:m*2})),!j&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:f-$/2,y:y-$/2,width:h+$,height:m+$}))):null,!O&&this.renderCurve(D,S),this.renderErrorBar(D,S),(O||l)&&this.renderDots(D,j,S),(!x||w)&&Tt.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(G(r),[0]):r,l=[],u=0;u<i;++u)l=[].concat(G(l),G(a));return l}},{key:"renderDotItem",value:function(r,i){var a;if(A.isValidElement(r))a=A.cloneElement(r,i);else if(Et(r))a=r(i);else{var l=i.key,u=wt(i,oe),d=lt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=A.createElement(Zt,H({key:l},u,{className:d}))}return a}}])}(E.PureComponent);z(at,"displayName","Line");z(at,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Dt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});z(at,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,l=t.dataKey,u=t.bandSize,d=t.displayedData,p=t.offset,c=e.layout,y=d.map(function(f,h){var m=U(f,l);return c==="horizontal"?{x:et({axis:n,ticks:i,bandSize:u,entry:f,index:h}),y:F(m)?null:r.scale(m),value:m,payload:f}:{x:F(m)?null:n.scale(m),y:et({axis:r,ticks:a,bandSize:u,entry:f,index:h}),value:m,payload:f}});return k({points:y,layout:c},p)});function X(t){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(t)}function be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rt(r.key),r)}}function Ae(t,e,n){return e&&ge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function je(t,e,n){return e=nt(e),we(t,Lt()?Reflect.construct(e,n||[],nt(t).constructor):e.apply(t,n))}function we(t,e){if(e&&(X(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oe(t)}function Oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lt=function(){return!!t})()}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nt(t)}function Pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mt(t,e)}function Ft(t,e,n){return e=Rt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rt(t){var e=Se(t,"string");return X(e)=="symbol"?e:e+""}function Se(t,e){if(X(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(X(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ot=function(t){function e(){return be(this,e),je(this,e,arguments)}return Pe(e,t),Ae(e,[{key:"render",value:function(){return null}}])}(E.Component);Ft(ot,"displayName","ZAxis");Ft(ot,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var _e=["option","isActive"];function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q.apply(this,arguments)}function De(t,e){if(t==null)return{};var n=Ee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ne(t){var e=t.option,n=t.isActive,r=De(t,_e);return typeof e=="string"?E.createElement(gt,Q({option:E.createElement(Yt,Q({type:e},r)),isActive:n,shapeType:"symbols"},r)):E.createElement(gt,Q({option:e,isActive:n,shapeType:"symbols"},r))}function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}function St(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?St(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wt(r.key),r)}}function $e(t,e,n){return e&&_t(t.prototype,e),n&&_t(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ce(t,e,n){return e=it(e),Te(t,Mt()?Reflect.construct(e,n||[],it(t).constructor):e.apply(t,n))}function Te(t,e){if(e&&(Y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ze(t)}function ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mt=function(){return!!t})()}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},it(t)}function Ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yt(t,e)}function V(t,e,n){return e=Wt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wt(t){var e=Be(t,"string");return Y(e)=="symbol"?e:e+""}function Be(t,e){if(Y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var st=function(t){function e(){var n;ke(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ce(this,e,[].concat(i)),V(n,"state",{isAnimationFinished:!1}),V(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),V(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),V(n,"id",zt("recharts-scatter-")),n}return Ie(e,t),$e(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,l=a.shape,u=a.activeShape,d=a.activeIndex,p=J(this.props,!1);return r.map(function(c,y){var f=d===y,h=f?u:l,m=C(C({},p),c);return A.createElement(q,tt({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(y)},Qt(i.props,c,y),{role:"img"}),A.createElement(Ne,tt({option:h,isActive:f,key:"symbol-".concat(y)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,p=i.animationEasing,c=i.animationId,y=this.state.prevPoints;return A.createElement($t,{begin:u,duration:d,isActive:l,easing:p,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var h=f.t,m=a.map(function(x,b){var w=y&&y[b];if(w){var O=R(w.cx,x.cx),g=R(w.cy,x.cy),s=R(w.size,x.size);return C(C({},x),{},{cx:O(h),cy:g(h),size:s(h)})}var v=R(0,x.size);return C(C({},x),{},{size:v(h)})});return A.createElement(q,null,r.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,l=this.state.prevPoints;return a&&i&&i.length&&(!l||!Ct(l,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,l=i.xAxis,u=i.yAxis,d=i.children,p=ht(d,Nt);return p?p.map(function(c,y){var f=c.props,h=f.direction,m=f.dataKey;return A.cloneElement(c,{key:"".concat(h,"-").concat(m,"-").concat(a[y]),data:a,xAxis:l,yAxis:u,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(b,w){return{x:b.cx,y:b.cy,value:h==="x"?+b.node.x:+b.node.y,errorVal:U(b,w)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,l=r.lineType,u=r.lineJointType,d=J(this.props,!1),p=J(a,!1),c,y;if(l==="joint")c=i.map(function(g){return{x:g.cx,y:g.cy}});else if(l==="fitting"){var f=te(i),h=f.xmin,m=f.xmax,x=f.a,b=f.b,w=function(s){return x*s+b};c=[{x:h,y:w(h)},{x:m,y:w(m)}]}var O=C(C(C({},d),{},{fill:"none",stroke:d&&d.fill},p),{},{points:c});return A.isValidElement(a)?y=A.cloneElement(a,O):Et(a)?y=a(O):y=A.createElement(kt,tt({},O,{type:u})),A.createElement(q,{className:"recharts-scatter-line",key:"recharts-scatter-line"},y)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,l=r.line,u=r.className,d=r.xAxis,p=r.yAxis,c=r.left,y=r.top,f=r.width,h=r.height,m=r.id,x=r.isAnimationActive;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,w=lt("recharts-scatter",u),O=d&&d.allowDataOverflow,g=p&&p.allowDataOverflow,s=O||g,v=F(m)?this.id:m;return A.createElement(q,{className:w,clipPath:s?"url(#clipPath-".concat(v,")"):null},O||g?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(v)},A.createElement("rect",{x:O?c:c-f/2,y:g?y:y-h/2,width:O?f:f*2,height:g?h:h*2}))):null,l&&this.renderLine(),this.renderErrorBar(),A.createElement(q,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||b)&&Tt.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(E.PureComponent);V(st,"displayName","Scatter");V(st,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Dt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});V(st,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,l=t.xAxisTicks,u=t.yAxisTicks,d=t.offset,p=i.props.tooltipType,c=ht(i.props.children,Ht),y=F(e.dataKey)?i.props.dataKey:e.dataKey,f=F(n.dataKey)?i.props.dataKey:n.dataKey,h=r&&r.dataKey,m=r?r.range:ot.defaultProps.range,x=m&&m[0],b=e.scale.bandwidth?e.scale.bandwidth():0,w=n.scale.bandwidth?n.scale.bandwidth():0,O=a.map(function(g,s){var v=U(g,y),D=U(g,f),S=!F(h)&&U(g,h)||"-",_=[{name:F(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:v,payload:g,dataKey:y,type:p},{name:F(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:D,payload:g,dataKey:f,type:p}];S!=="-"&&_.push({name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:g,dataKey:h,type:p});var N=et({axis:e,ticks:l,bandSize:b,entry:g,index:s,dataKey:y}),T=et({axis:n,ticks:u,bandSize:w,entry:g,index:s,dataKey:f}),I=S!=="-"?r.scale(S):x,P=Math.sqrt(Math.max(I,0)/Math.PI);return C(C({},g),{},{cx:N,cy:T,x:N-P,y:T-P,xAxis:e,yAxis:n,zAxis:r,width:2*P,height:2*P,size:I,node:{x:v,y:D,z:S},tooltipPayload:_,tooltipPosition:{x:N,y:T},payload:g},c&&c[s]&&c[s].props)});return C({points:O},d)});var Ke=ee({chartName:"ComposedChart",GraphicalChild:[at,It,ct,st],axisComponents:[{axisType:"xAxis",AxisComp:ut},{axisType:"yAxis",AxisComp:pt},{axisType:"zAxis",AxisComp:ot}],formatAxisMap:re});const Re=E.memo(()=>{var g;const{lang:t,currency:e,setActiveScreen:n,balance:r,transactions:i}=Jt(),[a,l]=E.useState(30),u=E.useMemo(()=>vt.get("hamyon_recurring",[]),[]),d=E.useMemo(()=>vt.get("hamyon_subscriptions",[]),[]),p={title:t==="ru"?"Прогноз денежного потока":t==="uz"?"Pul oqimi prognozi":"Cash Flow Forecast",projected:t==="ru"?"Прогнозируемый баланс":t==="uz"?"Prognoz qilingan balans":"Projected Balance",inflows:t==="ru"?"Поступления":t==="uz"?"Kirimlar":"Inflows",outflows:t==="ru"?"Расходы":t==="uz"?"Chiqimlar":"Outflows",days:t==="ru"?"дней":t==="uz"?"kun":"days",warning:t==="ru"?"Низкий баланс":t==="uz"?"Past balans":"Low Balance",upcoming:t==="ru"?"Предстоящие":t==="uz"?"Kelayotgan":"Upcoming",noData:t==="ru"?"Добавьте регулярные транзакции":t==="uz"?"Muntazam tranzaksiyalar qo'shing":"Add recurring transactions",dailyChart:t==="ru"?"Ежедневный баланс":t==="uz"?"Kunlik balans":"Daily Balance",flowChart:t==="ru"?"Приход / Расход":t==="uz"?"Kirim / Chiqim":"In / Out",totalIn:t==="ru"?"Всего поступлений":t==="uz"?"Jami kirimlar":"Total Inflows",totalOut:t==="ru"?"Всего расходов":t==="uz"?"Jami chiqimlar":"Total Outflows",netChange:t==="ru"?"Чистое изменение":t==="uz"?"Sof o'zgarish":"Net Change"},c=E.useMemo(()=>{const s=new Date,v=[];let D=r;for(let S=0;S<=a;S++){const _=new Date(s);_.setDate(s.getDate()+S);const N=_.toISOString().slice(0,10),T=_.getDay(),I=_.getDate();let P=0,M=0;const B=[];u.forEach(j=>{if(!j.active)return;let $=!1;if(j.frequency==="daily")$=!0;else if(j.frequency==="weekly"&&new Date(j.nextDate).getDay()===T)$=!0;else if(j.frequency==="monthly"&&new Date(j.nextDate).getDate()===I)$=!0;else if(j.frequency==="yearly"){const K=new Date(j.nextDate);$=K.getMonth()===_.getMonth()&&K.getDate()===I}if($){const K=Math.abs(j.amount);j.type==="income"?P+=K:M+=K,B.push({id:j.id,type:j.type,name:j.description,amount:j.type==="income"?K:-K,date:N})}}),d.forEach(j=>{j.active&&j.nextBillingDate===N&&(M+=j.amount,B.push({id:j.id,type:"subscription",name:j.name,amount:-j.amount,date:N}))}),D=D+P-M,v.push({date:N,projectedBalance:D,inflows:P,outflows:M,events:B})}return v},[r,u,d,a]),y=E.useMemo(()=>c.filter(s=>s.projectedBalance<0),[c]),f=E.useMemo(()=>c.map((s,v)=>({day:v,date:s.date.slice(5),balance:s.projectedBalance,inflows:s.inflows,outflows:s.outflows})),[c]),h=E.useMemo(()=>{if(a<=14)return c.slice(1).map(s=>({label:s.date.slice(8),inflows:s.inflows,outflows:s.outflows})).filter(s=>s.inflows>0||s.outflows>0);{const s=[];for(let v=0;v<c.length;v+=7){const D=c.slice(v,v+7);s.push({label:`W${Math.floor(v/7)+1}`,inflows:D.reduce((S,_)=>S+_.inflows,0),outflows:D.reduce((S,_)=>S+_.outflows,0)})}return s}},[c,a]),m=E.useMemo(()=>{const s=[];return c.slice(1,8).forEach(v=>{s.push(...v.events)}),s},[c]),x=((g=c[c.length-1])==null?void 0:g.projectedBalance)||r,b=x-r,w=c.reduce((s,v)=>s+v.inflows,0),O=c.reduce((s,v)=>s+v.outflows,0);return o.jsxs("div",{className:"min-h-screen bg-background pb-32 px-4 pt-4",children:[o.jsxs("header",{className:"flex items-center gap-3 mb-6",children:[o.jsx("button",{onClick:()=>n("home"),className:"text-2xl",children:"←"}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:p.title})]}),o.jsx("div",{className:"flex gap-2 mb-6",children:[7,14,30,60,90].map(s=>o.jsxs("button",{onClick:()=>l(s),className:`flex-1 py-2 rounded-xl text-sm font-medium ${a===s?"bg-primary text-primary-foreground":"bg-secondary text-foreground"}`,children:[s," ",p.days]},s))}),o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-3xl bg-gradient-to-br from-primary/30 via-primary/10 to-transparent border border-primary/20 mb-6",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.projected}),o.jsxs("div",{className:"flex items-baseline gap-3 mb-4",children:[o.jsx("h2",{className:"text-3xl font-bold text-foreground",children:W(x,e)}),o.jsxs(L.div,{initial:{scale:0},animate:{scale:1},className:`flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ${b>=0?"bg-income/20 text-income":"bg-expense/20 text-expense"}`,children:[b>=0?o.jsx(xt,{className:"w-4 h-4"}):o.jsx(bt,{className:"w-4 h-4"}),o.jsxs("span",{children:[b>=0?"+":"",W(b,e)]})]})]}),y.length>0&&o.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 rounded-xl bg-destructive/20 border border-destructive/30 flex items-center gap-3",children:[o.jsx(Gt,{className:"w-5 h-5 text-destructive"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-destructive",children:p.warning}),o.jsx("p",{className:"text-xs text-muted-foreground",children:y[0].date})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[o.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 rounded-xl bg-income/10 border border-income/20",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:p.totalIn}),o.jsxs("p",{className:"text-lg font-bold text-income",children:["+",W(w,e)]})]}),o.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-3 rounded-xl bg-expense/10 border border-expense/20",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:p.totalOut}),o.jsxs("p",{className:"text-lg font-bold text-expense",children:["-",W(O,e)]})]}),o.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-3 rounded-xl bg-primary/10 border border-primary/20",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:p.netChange}),o.jsxs("p",{className:`text-lg font-bold ${b>=0?"text-income":"text-expense"}`,children:[b>=0?"+":"",W(b,e)]})]})]}),f.length>1&&o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-4 rounded-2xl bg-card border border-border mb-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:p.dailyChart}),o.jsx("div",{className:"h-48",children:o.jsx(At,{width:"100%",height:"100%",children:o.jsxs(ne,{data:f,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"cashFlowGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:.4}),o.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),o.jsx(ut,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},interval:"preserveStartEnd"}),o.jsx(pt,{hide:!0}),o.jsx(ie,{y:0,stroke:"hsl(var(--destructive))",strokeDasharray:"3 3"}),o.jsx(jt,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px",padding:"8px 12px"},labelStyle:{color:"hsl(var(--foreground))"},formatter:s=>[W(s,e),p.projected]}),o.jsx(It,{type:"monotone",dataKey:"balance",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"url(#cashFlowGradient)"})]})})})]}),h.length>0&&o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-4 rounded-2xl bg-card border border-border mb-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:p.flowChart}),o.jsx("div",{className:"h-40",children:o.jsx(At,{width:"100%",height:"100%",children:o.jsxs(Ke,{data:h,children:[o.jsx(ut,{dataKey:"label",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10}}),o.jsx(pt,{hide:!0}),o.jsx(jt,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px",padding:"8px 12px"},formatter:(s,v)=>[W(s,e),v==="inflows"?p.inflows:p.outflows]}),o.jsx(ct,{dataKey:"inflows",fill:"hsl(var(--income))",radius:[4,4,0,0]}),o.jsx(ct,{dataKey:"outflows",fill:"hsl(var(--expense))",radius:[4,4,0,0]})]})})})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:p.upcoming}),m.length===0?o.jsxs("div",{className:"p-6 text-center text-muted-foreground bg-secondary rounded-xl",children:[o.jsx(Ut,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:p.noData})]}):o.jsx("div",{className:"space-y-2",children:m.map((s,v)=>o.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},className:"p-3 rounded-xl bg-card border border-border flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.amount>=0?"bg-income/20 text-income":"bg-expense/20 text-expense"}`,children:s.amount>=0?o.jsx(xt,{className:"w-5 h-5"}):o.jsx(bt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-foreground",children:s.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:s.date})]}),o.jsxs("p",{className:`font-bold ${s.amount>=0?"text-income":"text-expense"}`,children:[s.amount>=0?"+":"",W(s.amount,e)]})]},`${s.id}-${v}`))})]})]})});export{Re as CashFlowScreen,Re as default};
