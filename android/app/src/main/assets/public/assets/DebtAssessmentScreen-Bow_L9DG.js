import{r as d,u as L,j as e,a as o,p as g,A as z}from"./index-Bngez1jy.js";const k={uz:[{q:"Bu kredit nima uchun kerak?",options:["Zaruriy xarid","Biznes uchun","Ta'lim","Tibbiyot","Ixtiyoriy xarid","Boshqa qarzni to'lash"]},{q:"Kredit to'lovlarini qanday to'laysiz?",options:["Oylik maoshdan","Qo'shimcha daromaddan","Jamg'armadan","Bilmayman"]},{q:"Agar daromad kamaysa nima bo'ladi?",options:["Jamg'armam bor","Oilam yordam beradi","Boshqa ish topaman","Rejam yo'q"]},{q:"Bu kreditni olishdan oldin boshqa variantlarni ko'rib chiqdingizmi?",options:["Ha, eng yaxshisi shu","Yo'q, ko'rib chiqmadim","Boshqa variant yo'q"]}],ru:[{q:"–ó–∞—á–µ–º –≤–∞–º –Ω—É–∂–µ–Ω —ç—Ç–æ—Ç –∫—Ä–µ–¥–∏—Ç?",options:["–ù–µ–æ–±—Ö–æ–¥–∏–º–∞—è –ø–æ–∫—É–ø–∫–∞","–î–ª—è –±–∏–∑–Ω–µ—Å–∞","–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ","–ú–µ–¥–∏—Ü–∏–Ω–∞","–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–æ–∫—É–ø–∫–∞","–ü–æ–≥–∞—Å–∏—Ç—å –¥—Ä—É–≥–æ–π –¥–æ–ª–≥"]},{q:"–ö–∞–∫ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø–ª–∞—Ç–∏—Ç—å?",options:["–ò–∑ –∑–∞—Ä–ø–ª–∞—Ç—ã","–ò–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞","–ò–∑ —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π","–ù–µ –∑–Ω–∞—é"]},{q:"–ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –¥–æ—Ö–æ–¥ —É–º–µ–Ω—å—à–∏—Ç—Å—è?",options:["–ï—Å—Ç—å —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è","–°–µ–º—å—è –ø–æ–º–æ–∂–µ—Ç","–ù–∞–π–¥—É –¥—Ä—É–≥—É—é —Ä–∞–±–æ—Ç—É","–ù–µ—Ç –ø–ª–∞–Ω–∞"]},{q:"–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏ –ª–∏ –≤—ã –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã?",options:["–î–∞, —ç—Ç–æ –ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç","–ù–µ—Ç, –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª","–î—Ä—É–≥–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–µ—Ç"]}],en:[{q:"Why do you need this loan?",options:["Essential purchase","Business","Education","Medical","Optional purchase","Pay off other debt"]},{q:"How will you make payments?",options:["From salary","From side income","From savings","I don't know"]},{q:"What if your income decreases?",options:["I have savings","Family will help","I'll find another job","No plan"]},{q:"Have you considered alternatives?",options:["Yes, this is best","No, I haven't","No other options"]}]},T=d.memo(()=>{const{lang:t,setActiveScreen:A,currency:y,showToast:q,monthSpend:O}=L(),[u,S]=d.useState(()=>{const a=localStorage.getItem("hamyon_debts");return a?JSON.parse(a):[]}),[D,v]=d.useState(!1),[P,f]=d.useState(!1),[m,b]=d.useState(0),[i,w]=d.useState([]),[c,N]=d.useState({amount:"",monthlyPayment:"",income:""}),[s,p]=d.useState({name:"",totalAmount:"",monthlyPayment:"",interestRate:"",lender:"",type:"loan"}),x=k[t]||k.en,C=d.useMemo(()=>u.reduce((a,n)=>a+n.remainingAmount,0),[u]),j=d.useMemo(()=>u.reduce((a,n)=>a+n.monthlyPayment,0),[u]),M=a=>{S(a),localStorage.setItem("hamyon_debts",JSON.stringify(a))},h=d.useMemo(()=>{const a=Number(c.income)||1,n=Number(c.monthlyPayment)||0;return(j+n)/a*100},[j,c]),l=d.useMemo(()=>h<20?{level:"low",color:"text-income",label:t==="uz"?"Past xavf":t==="ru"?"–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫":"Low Risk"}:h<35?{level:"medium",color:"text-yellow-500",label:t==="uz"?"O'rtacha xavf":t==="ru"?"–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫":"Medium Risk"}:h<50?{level:"high",color:"text-orange-500",label:t==="uz"?"Yuqori xavf":t==="ru"?"–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫":"High Risk"}:{level:"critical",color:"text-expense",label:t==="uz"?"Juda xavfli!":t==="ru"?"–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–∏—Å–∫!":"Critical Risk!"},[h,t]),R=a=>{const n=[...i,a];w(n),m<x.length-1?b(m+1):b(x.length)},I=()=>{const a=[];return(i.includes("Bilmayman")||i.includes("–ù–µ –∑–Ω–∞—é")||i.includes("I don't know")||i.includes("Rejam yo'q")||i.includes("–ù–µ—Ç –ø–ª–∞–Ω–∞")||i.includes("No plan")||i.includes("Boshqa qarzni to'lash")||i.includes("–ü–æ–≥–∞—Å–∏—Ç—å –¥—Ä—É–≥–æ–π –¥–æ–ª–≥")||i.includes("Pay off other debt"))&&a.push(t==="uz"?"‚ö†Ô∏è Javoblaringiz xavotirli. Kreditni qayta ko'rib chiqing.":t==="ru"?"‚ö†Ô∏è –í–∞—à–∏ –æ—Ç–≤–µ—Ç—ã –≤—ã–∑—ã–≤–∞—é—Ç –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ. –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –æ –∫—Ä–µ–¥–∏—Ç–µ.":"‚ö†Ô∏è Your answers are concerning. Please reconsider this loan."),h>35&&a.push(t==="uz"?"üî¥ Qarz yuklamangiz yuqori. Yangi kredit olish tavsiya etilmaydi.":t==="ru"?"üî¥ –í–∞—à–∞ –¥–æ–ª–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –≤—ã—Å–æ–∫–∞—è. –ù–æ–≤—ã–π –∫—Ä–µ–¥–∏—Ç –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è.":"üî¥ Your debt load is high. A new loan is not recommended."),(i.includes("Ixtiyoriy xarid")||i.includes("–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–æ–∫—É–ø–∫–∞")||i.includes("Optional purchase"))&&a.push(t==="uz"?"üí° Ixtiyoriy xaridlar uchun kredit olish tavsiya etilmaydi. Jamg'arib oling.":t==="ru"?"üí° –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –±—Ä–∞—Ç—å –∫—Ä–µ–¥–∏—Ç –Ω–∞ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏. –ù–∞–∫–æ–ø–∏—Ç–µ.":"üí° Loans for optional purchases are not recommended. Save up instead."),a.length===0&&a.push(t==="uz"?"‚úÖ Moliyaviy holatngiz yaxshi ko'rinadi.":t==="ru"?"‚úÖ –í–∞—à–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç —Ö–æ—Ä–æ—à–æ.":"‚úÖ Your financial situation looks good."),a},B=()=>{if(!s.name||!s.totalAmount||!s.monthlyPayment)return;const a={id:Date.now().toString(),name:s.name,totalAmount:Number(s.totalAmount),remainingAmount:Number(s.totalAmount),monthlyPayment:Number(s.monthlyPayment),interestRate:Number(s.interestRate)||0,startDate:new Date().toISOString().slice(0,10),type:s.type,lender:s.lender};M([...u,a]),f(!1),p({name:"",totalAmount:"",monthlyPayment:"",interestRate:"",lender:"",type:"loan"}),q("‚úì",!0)},r={title:t==="uz"?"Qarz baholash":t==="ru"?"–û—Ü–µ–Ω–∫–∞ –¥–æ–ª–≥–∞":"Debt Assessment",totalDebt:t==="uz"?"Jami qarz":t==="ru"?"–û–±—â–∏–π –¥–æ–ª–≥":"Total Debt",monthlyPayments:t==="uz"?"Oylik to'lovlar":t==="ru"?"–ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏":"Monthly Payments",debtLoad:t==="uz"?"Qarz yuklamasi":t==="ru"?"–î–æ–ª–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞":"Debt Load",newLoan:t==="uz"?"Yangi kredit baholash":t==="ru"?"–û—Ü–µ–Ω–∏—Ç—å –Ω–æ–≤—ã–π –∫—Ä–µ–¥–∏—Ç":"Assess New Loan",addDebt:t==="uz"?"Qarz qo'shish":t==="ru"?"–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ª–≥":"Add Debt",income:t==="uz"?"Oylik daromad":t==="ru"?"–ú–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥":"Monthly Income",amount:t==="uz"?"Kredit summasi":t==="ru"?"–°—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞":"Loan Amount",payment:t==="uz"?"Oylik to'lov":t==="ru"?"–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç—ë–∂":"Monthly Payment",start:t==="uz"?"Boshlash":t==="ru"?"–ù–∞—á–∞—Ç—å":"Start Assessment",result:t==="uz"?"Natija":t==="ru"?"–†–µ–∑—É–ª—å—Ç–∞—Ç":"Result"};return e.jsxs("div",{className:"screen-container pb-32 safe-top",children:[e.jsxs("div",{className:"px-4 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(o.button,{whileTap:{scale:.9},onClick:()=>A("home"),className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center",children:"‚Üê"}),e.jsx("div",{className:"flex-1",children:e.jsx("h1",{className:"text-title-1 text-foreground",children:r.title})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-elevated p-4 bg-gradient-to-br from-expense/10 to-expense/5",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:r.totalDebt}),e.jsx("p",{className:"text-xl font-bold text-expense",children:g(C,y)})]}),e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card-elevated p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:r.monthlyPayments}),e.jsx("p",{className:"text-xl font-bold text-foreground",children:g(j,y)})]})]}),u.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-title-3 text-foreground mb-3",children:t==="uz"?"Mavjud qarzlar":t==="ru"?"–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–æ–ª–≥–∏":"Existing Debts"}),e.jsx("div",{className:"space-y-3",children:u.map((a,n)=>e.jsxs(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.05},className:"card-elevated p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-foreground",children:a.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.lender," ‚Ä¢ ",a.type]})]}),e.jsx("p",{className:"text-expense font-bold",children:g(a.remainingAmount,y)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[r.payment,":"]}),e.jsxs("span",{className:"text-foreground",children:[g(a.monthlyPayment,y),"/oy"]})]}),a.interestRate>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"%:"}),e.jsxs("span",{className:"text-foreground",children:[a.interestRate,"%"]})]})]},a.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(o.button,{whileTap:{scale:.97},onClick:()=>{v(!0),b(0),w([])},className:"w-full py-4 rounded-2xl bg-primary text-primary-foreground font-semibold flex items-center justify-center gap-2",children:["üß† ",r.newLoan]}),e.jsxs(o.button,{whileTap:{scale:.97},onClick:()=>f(!0),className:"w-full py-4 rounded-2xl border-2 border-dashed border-border text-muted-foreground font-medium",children:["+ ",r.addDebt]})]})]}),e.jsx(z,{children:D&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-background",children:e.jsxs("div",{className:"h-full flex flex-col p-6 safe-top safe-bottom",children:[e.jsx("div",{className:"flex gap-2 mb-8",children:[...Array(x.length+2)].map((a,n)=>e.jsx("div",{className:`flex-1 h-1 rounded-full ${n<=m?"bg-primary":"bg-secondary"}`},n))}),m===0&&e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex-1 flex flex-col",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:t==="uz"?"Kredit ma'lumotlari":t==="ru"?"–î–∞–Ω–Ω—ã–µ –æ –∫—Ä–µ–¥–∏—Ç–µ":"Loan Details"}),e.jsx("input",{type:"text",inputMode:"numeric",placeholder:r.income,value:c.income,onChange:a=>N({...c,income:a.target.value.replace(/[^0-9]/g,"")}),className:"w-full p-4 mb-3 rounded-xl bg-secondary text-foreground placeholder:text-muted-foreground"}),e.jsx("input",{type:"text",inputMode:"numeric",placeholder:r.amount,value:c.amount,onChange:a=>N({...c,amount:a.target.value.replace(/[^0-9]/g,"")}),className:"w-full p-4 mb-3 rounded-xl bg-secondary text-foreground placeholder:text-muted-foreground"}),e.jsx("input",{type:"text",inputMode:"numeric",placeholder:r.payment,value:c.monthlyPayment,onChange:a=>N({...c,monthlyPayment:a.target.value.replace(/[^0-9]/g,"")}),className:"w-full p-4 mb-6 rounded-xl bg-secondary text-foreground placeholder:text-muted-foreground"}),c.income&&e.jsxs("div",{className:"card-elevated p-4 mb-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:r.debtLoad}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-4 rounded-full bg-secondary overflow-hidden",children:e.jsx(o.div,{initial:{width:0},animate:{width:`${Math.min(h,100)}%`},className:`h-full ${l.level==="low"?"bg-income":l.level==="medium"?"bg-yellow-500":l.level==="high"?"bg-orange-500":"bg-expense"}`})}),e.jsxs("span",{className:`font-bold ${l.color}`,children:[h.toFixed(0),"%"]})]}),e.jsx("p",{className:`text-sm mt-2 ${l.color}`,children:l.label})]}),e.jsxs("div",{className:"mt-auto flex gap-3",children:[e.jsx("button",{onClick:()=>v(!1),className:"btn-secondary flex-1",children:t==="uz"?"Bekor":t==="ru"?"–û—Ç–º–µ–Ω–∞":"Cancel"}),e.jsx("button",{onClick:()=>b(1),disabled:!c.income,className:"btn-primary flex-1",children:t==="uz"?"Davom":t==="ru"?"–î–∞–ª–µ–µ":"Continue"})]})]}),m>0&&m<=x.length&&e.jsxs(o.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"flex-1 flex flex-col",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground mb-6",children:x[m-1].q}),e.jsx("div",{className:"space-y-3",children:x[m-1].options.map((a,n)=>e.jsx(o.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},whileTap:{scale:.98},onClick:()=>R(a),className:"w-full p-4 rounded-xl bg-secondary text-foreground text-left hover:bg-primary/10 transition-colors",children:a},a))})]},m),m>=x.length&&e.jsxs(o.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex-1 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center text-5xl mb-6 ${l.level==="low"?"bg-income/20":l.level==="medium"?"bg-yellow-500/20":l.level==="high"?"bg-orange-500/20":"bg-expense/20"}`,children:l.level==="low"?"‚úÖ":l.level==="medium"?"‚ö†Ô∏è":l.level==="high"?"üî∂":"üõë"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:r.result}),e.jsx("p",{className:`text-lg font-semibold mb-6 ${l.color}`,children:l.label}),e.jsx("div",{className:"w-full space-y-3 text-left mb-8",children:I().map((a,n)=>e.jsx("div",{className:"p-4 rounded-xl bg-secondary",children:e.jsx("p",{className:"text-sm text-foreground",children:a})},n))}),e.jsx("button",{onClick:()=>v(!1),className:"btn-primary w-full",children:t==="uz"?"Tushundim":t==="ru"?"–ü–æ–Ω—è—Ç–Ω–æ":"Got It"})]})]})})}),e.jsx(z,{children:P&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs(o.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"absolute bottom-0 left-0 right-0 modal-content safe-bottom max-h-[80vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[e.jsx("h3",{className:"text-title-2 text-foreground mb-4",children:r.addDebt}),e.jsx("input",{type:"text",placeholder:t==="uz"?"Nomi":t==="ru"?"–ù–∞–∑–≤–∞–Ω–∏–µ":"Name",value:s.name,onChange:a=>p({...s,name:a.target.value}),className:"w-full p-4 mb-3 rounded-xl bg-secondary text-foreground placeholder:text-muted-foreground"}),e.jsx("input",{type:"text",inputMode:"numeric",placeholder:t==="uz"?"Jami summa":t==="ru"?"–û–±—â–∞—è —Å—É–º–º–∞":"Total Amount",value:s.totalAmount,onChange:a=>p({...s,totalAmount:a.target.value.replace(/[^0-9]/g,"")}),className:"w-full p-4 mb-3 rounded-xl bg-secondary text-foreground placeholder:text-muted-foreground"}),e.jsx("input",{type:"text",inputMode:"numeric",placeholder:r.payment,value:s.monthlyPayment,onChange:a=>p({...s,monthlyPayment:a.target.value.replace(/[^0-9]/g,"")}),className:"w-full p-4 mb-3 rounded-xl bg-secondary text-foreground placeholder:text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:t==="uz"?"Kreditor":t==="ru"?"–ö—Ä–µ–¥–∏—Ç–æ—Ä":"Lender",value:s.lender,onChange:a=>p({...s,lender:a.target.value}),className:"w-full p-4 mb-4 rounded-xl bg-secondary text-foreground placeholder:text-muted-foreground"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(!1),className:"btn-secondary flex-1",children:t==="uz"?"Bekor":t==="ru"?"–û—Ç–º–µ–Ω–∞":"Cancel"}),e.jsx("button",{onClick:B,className:"btn-primary flex-1",children:t==="uz"?"Saqlash":t==="ru"?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å":"Save"})]})]})})})]})});T.displayName="DebtAssessmentScreen";export{T as DebtAssessmentScreen};
